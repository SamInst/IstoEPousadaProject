CREATE TABLE ip05_cash_register
(
    ip05_id        BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip05_data      date,
    ip05_report    VARCHAR(255),
    ip05_apartment INTEGER,
    ip05_cash_in   FLOAT,
    ip05_cash_out  FLOAT,
    ip05_total     FLOAT,
    ip05_hour      time WITHOUT TIME ZONE,
    CONSTRAINT pk_ip05_cash_register PRIMARY KEY (ip05_id)
);

CREATE TABLE ip02_employees
(
    ip02_id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip02_name VARCHAR(255),
    ip02_cpf  VARCHAR(255),
    CONSTRAINT pk_ip02_employees PRIMARY KEY (ip02_id)
);

CREATE TABLE ip01_clients
(
    ip01_id                BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip01_name              VARCHAR(255),
    ip01_cpf               VARCHAR(255),
    ip01_phone             VARCHAR(255),
    ip01_address           VARCHAR(255),
    ip01_job               VARCHAR(255),
    fkip01ip02_id_employee BIGINT,
    CONSTRAINT pk_ip01_clients PRIMARY KEY (ip01_id)
);

ALTER TABLE ip01_clients
    ADD CONSTRAINT FK_IP01_CLIENTS_ON_FKIP01IP02_ID_EMPLOYEE FOREIGN KEY (fkip01ip02_id_employee) REFERENCES ip02_employees (ip02_id);



CREATE TABLE ip14_country
(
    ip14_id     BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    description VARCHAR(255),
    CONSTRAINT pk_ip14_country PRIMARY KEY (ip14_id)
);

CREATE TABLE ip12_states
(
    id                    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    description           VARCHAR(255),
    fkip11ip14_id_country BIGINT,
    CONSTRAINT pk_ip12_states PRIMARY KEY (id)
);

ALTER TABLE ip12_states
    ADD CONSTRAINT FK_IP12_STATES_ON_FKIP11IP14_ID_COUNTRY FOREIGN KEY (fkip11ip14_id_country) REFERENCES ip14_country (ip14_id);

CREATE TABLE ip11_county
(
    ip11_id             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip11_description    VARCHAR(255),
    fkip11ip12_id_state BIGINT,
    CONSTRAINT pk_ip11_county PRIMARY KEY (ip11_id)
);

ALTER TABLE ip11_county
    ADD CONSTRAINT FK_IP11_COUNTY_ON_FKIP11IP12_ID_STATE FOREIGN KEY (fkip11ip12_id_state) REFERENCES ip12_states (id);

CREATE TABLE ip07_itens
(
    ip07_id          BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip07_description VARCHAR(255),
    ip07_value       FLOAT,
    CONSTRAINT pk_ip07_itens PRIMARY KEY (ip07_id)
);

CREATE TABLE ip04_rooms
(
    ip04_id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip04_numero          INTEGER,
    ip04_description     VARCHAR(255),
    ip04_person_capacity INTEGER,
    ip04_room_status     SMALLINT,
    CONSTRAINT pk_ip04_rooms PRIMARY KEY (ip04_id)
);

CREATE TABLE ip03_entry
(
    ip03_id                  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip03_rooms_id            BIGINT,
    ip03_start_time          time WITHOUT TIME ZONE,
    ip03_end_time            time WITHOUT TIME ZONE,
    ip03_license_plate       VARCHAR(255),
    ip03_entry_status        VARCHAR(255),
    ip03_entry_data_register date,
    ip03_total_entry         FLOAT,
    ip03_payment_type        VARCHAR(255),
    ip03_payment_status      VARCHAR(255),
    CONSTRAINT pk_ip03_entry PRIMARY KEY (ip03_id)
);

ALTER TABLE ip03_entry
    ADD CONSTRAINT FK_IP03_ENTRY_ON_IP03_ROOMS FOREIGN KEY (ip03_rooms_id) REFERENCES ip04_rooms (ip04_id);

CREATE TABLE ip06_entry_consumption
(
    ip06_id             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip06_amount         INTEGER,
    fkip06ip07_itens_id BIGINT,
    fkip06ip03_entry_id BIGINT,
    ip06_total          FLOAT,
    CONSTRAINT pk_ip06_entry_consumption PRIMARY KEY (ip06_id)
);

ALTER TABLE ip06_entry_consumption
    ADD CONSTRAINT FK_IP06_ENTRY_CONSUMPTION_ON_FKIP06IP03_ENTRY FOREIGN KEY (fkip06ip03_entry_id) REFERENCES ip03_entry (ip03_id);

ALTER TABLE ip06_entry_consumption
    ADD CONSTRAINT FK_IP06_ENTRY_CONSUMPTION_ON_FKIP06IP07_ITENS FOREIGN KEY (fkip06ip07_itens_id) REFERENCES ip07_itens (ip07_id);

CREATE TABLE ip08_overnight_stay
(
    ip08_id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fkip08ip04_rooms_id  BIGINT,
    fkip08ip01_client_id BIGINT,
    ip08_start_date      date,
    ip08_end_date        date,
    ip08_amount_people   INTEGER,
    ip08_payment_type    VARCHAR(255),
    ip08_payment_status  VARCHAR(255),
    ip08_total           FLOAT,
    CONSTRAINT pk_ip08_overnight_stay PRIMARY KEY (ip08_id)
);

ALTER TABLE ip08_overnight_stay
    ADD CONSTRAINT FK_IP08_OVERNIGHT_STAY_ON_FKIP08IP01_CLIENT FOREIGN KEY (fkip08ip01_client_id) REFERENCES ip01_clients (ip01_id);

ALTER TABLE ip08_overnight_stay
    ADD CONSTRAINT FK_IP08_OVERNIGHT_STAY_ON_FKIP08IP04_ROOMS FOREIGN KEY (fkip08ip04_rooms_id) REFERENCES ip04_rooms (ip04_id);

CREATE TABLE ip09_overnight_stay_companion
(
    ip09_id                      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip09_name                    VARCHAR(255),
    ip09_cpf                     VARCHAR(255),
    ip09_birth                   date,
    ip09_age                     INTEGER,
    fkip09ip08_overnight_stay_id BIGINT,
    fkip13ip12_id_companion      BIGINT,
    CONSTRAINT pk_ip09_overnight_stay_companion PRIMARY KEY (ip09_id)
);

ALTER TABLE ip09_overnight_stay_companion
    ADD CONSTRAINT FK_IP09_OVERNIGHT_STAY_COMPANION_ON_FKIP09IP08_OVERNIGHT_STAY FOREIGN KEY (fkip09ip08_overnight_stay_id) REFERENCES ip08_overnight_stay (ip08_id);

CREATE TABLE ip13_reservations
(
    ip13_id_reservations BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip13_start_date      date,
    ip13_end_date        date,
    fkip13ip01_id_client BIGINT,
    ip13_room            INTEGER,
    CONSTRAINT pk_ip13_reservations PRIMARY KEY (ip13_id_reservations)
);

ALTER TABLE ip13_reservations
    ADD CONSTRAINT FK_IP13_RESERVATIONS_ON_FKIP13IP01_ID_CLIENT FOREIGN KEY (fkip13ip01_id_client) REFERENCES ip01_clients (ip01_id);

ALTER TABLE ip09_overnight_stay_companion
    ADD CONSTRAINT FK_IP09_OVERNIGHT_STAY_COMPANION_ON_FKIP13IP12_ID_COMPANION FOREIGN KEY (fkip13ip12_id_companion) REFERENCES ip13_reservations (ip13_id_reservations);

CREATE TABLE ip10_overnight_consumption
(
    ip10_id                      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ip10_amount                  INTEGER,
    fkip10ip07_itens_id          BIGINT,
    fkip10ip08_overnight_stay_id BIGINT,
    ip10_total                   FLOAT,
    CONSTRAINT pk_ip10_overnight_consumption PRIMARY KEY (ip10_id)
);

ALTER TABLE ip10_overnight_consumption
    ADD CONSTRAINT FK_IP10_OVERNIGHT_CONSUMPTION_ON_FKIP10IP07_ITENS FOREIGN KEY (fkip10ip07_itens_id) REFERENCES ip07_itens (ip07_id);

ALTER TABLE ip10_overnight_consumption
    ADD CONSTRAINT FK_IP10_OVERNIGHT_CONSUMPTION_ON_FKIP10IP08_OVERNIGHT_STAY FOREIGN KEY (fkip10ip08_overnight_stay_id) REFERENCES ip08_overnight_stay (ip08_id);